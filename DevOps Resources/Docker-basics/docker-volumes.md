## Table of Contents

- [Table of Contents](#table-of-contents)
- [An introduction to docker volumes](#an-introduction-to-docker-volumes)
- [Volumes](#volumes)
  - [Anonymous volumes](#anonymous-volumes)
  - [Named volumes](#named-volumes)
- [Bind Mounts](#bind-mounts)

## An introduction to docker volumes

The data generated by docker containers is not persisted to the disk by default. It is lost once we remove or restart the containers. Hence docker comes with two types of external storage mechanisms. 

- Volumes (Managed by docker)
- Bind Mounts (Managed by the user)

These mechanisms can be a little confusing, hence I am going to explain them a bit in this article.

## Volumes

Volumes are basically folders on the host machine which are then mounted/mapped to the containers. The location of these folders in the host OS is usually unknown to the user. 


### Anonymous volumes

When volumes are mentioned in an image's Dockerfule, docker would create a volume on it's own with a random hash. An anonymous volume isn't of much use when it comes to persistance, since they are destroyed when the container is removed. This is the default storage mechanism used by docker.

### Named volumes

Now you might ask, then how do we persist data? Well, Named Volumes to the rescue.

Named volumes, as it's name suggests, can be given any name you wish at the time of it's creation. These volumes can be created direclty while running the container, or using the command line as well.

**_Command to create a named volume_**

``` docker volume create somevolumename ```

**_Command to mount a named volume while running the container_**

``` docker run -v somevolumename:/path/in/container ... ```

Named volumes survive a container removal or restart and can be shared among multiple containers as well. However, named volumes have one flaw, it is quite difficult for the user to access and modify these volumes. 


## Bind Mounts

Bind mounts are almost similar to Named Volumes, but with a subtle difference. A user can easily define a folder/file in the Host OS to be a bind mount for a particular container. 

Bind mounts can be particularly useful if you would want to run your development environment inside a docker container. The contents of a folder which are initially copied into a container during the image creation process, are overwritten if bind mounts are specified. Also, any change made inside the bind mount is mirrored inside the container and vice versa. You can mark a bind mount as read-only to prevent accidental overwritting of code.

**_Command to create a bind mount_**

``` docker run -v /path/on/host:/path/in/container ```

**Note :** The bind mount path needs to be **absolute**